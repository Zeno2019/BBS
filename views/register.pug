extends basic-layout

block content
  form(action="/register" method='post')
    div 用户名
    input(type="text" name="name")
    div
    span.tips
    div 密码
    input(type="password" name="password")
    div 电子邮件
    input(type="email" name="email")
    div
    button 注册
  script.
    var nameInput = document.querySelector('input[name="name"]')
    var tipsSpan = document.querySelector('.tips')

    nameInput.oninput = function(e) {
      $.get('/username-conflict-check?name=' + this.value).then(result => {
        console.log(result)
        tipsSpan.textContent = result.msg
      })
    }
